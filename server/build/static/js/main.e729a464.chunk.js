(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),s=n.n(o),l=n(57),c=n.n(l),i=n(6),u=n(8),p=n(11),m=n(9),d=n(12),h=n(13),f=n.n(h),_=n(10),E=n(14),b={type:"SUCCESS"},g={type:"FAILURE"},v=function(){return{type:"SUCCESS"}},y=function(){return{type:"FAILURE"}},O=function(e){return{type:"USER_INPUT",payload:e}},S=function(){return{type:"LOGIN_SUCCESS"}},C=function(){return{type:"LOGIN_FAILURE"}},j=function(e){return{type:"ADD_PROFILE",payload:e}},k=function(){return{type:"REMOVE_PROFILE"}},T=function(e){return{type:"SET_DB_PROFILE",payload:e}},R=function(){return{type:"REMOVE_DB_PROFILE"}},P=function(e){return{type:"SET_DB_POSTS",payload:e}},x=function(e){return{type:"FETCH_POST_COMMENTS",payload:e}},D=function(e){return{type:"FETCH_USER_POSTS",payload:e}},w=function(e){return{type:"SEARCH_POSTS_SUCCESS",payload:e}},M=function(){return{type:"SEARCH_POSTS_FAILURE"}},A=function(e){return{type:"SET_OTHER_USER_DB_PROFILE",payload:e}},U=function(e){return{type:"SET_OTHER_USER_DB_POSTS",payload:e}},F=function(e){return{type:"SET_USER_MESSAGES",payload:e}},I=n(81),B=n(24),N=Object(B.a)(),L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).send_profile_to_db=function(e){f.a.post("/api/post/userprofiletodb",e).then((function(){return f.a.get("/api/get/userprofilefromdb",{params:{email:e.profile.email}}).then((function(e){return n.props.set_db_profile(e.data)}))})).then(N.replace("/")).catch((function(e){return console.error(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated()?(this.props.login_success(),this.props.add_profile(this.props.auth.userProfile),this.send_profile_to_db(this.props.auth.userProfile),N.replace("/")):(this.props.login_failure(),this.props.remove_profile(),this.props.remove_db_profile(),N.replace("/"))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component);var H=Object(_.b)((function(e){return{}}),(function(e){return{login_success:function(){return e(S())},login_failure:function(){return e(C())},add_profile:function(t){return e(j(t))},remove_profile:function(){return e(k())},set_db_profile:function(t){return e(T(t))},remove_db_profile:function(){return e(R())}}}))(L),V=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return console.log(e.props.stateprop1)}}," Get State "),r.a.createElement("button",{onClick:function(){return e.props.action1()}}," Dispatch Action 1 "),r.a.createElement("button",{onClick:function(){return e.props.action2()}},"Dispatch Action 2 "),r.a.createElement("button",{onClick:function(){return e.props.action_creator1()}},"Dispatch Action Creator 1 "),r.a.createElement("button",{onClick:function(){return e.props.action_creator2()}},"Dispatch Action Creator 2 "),this.props.user_text?r.a.createElement("h3",null," ",this.props.user_text," "):r.a.createElement("h3",null," No User Text "),r.a.createElement("br",null),this.props.stateprop1?r.a.createElement("p",null," stateprop1 is true "):r.a.createElement("p",null," stateprop1 is false "))}}]),t}(a.Component);var G=Object(_.b)((function(e){return{stateprop1:e.reducer1.stateprop1,user_text:e.user_reducer.user_text}}),(function(e){return{action1:function(){return e(b)},action2:function(){return e(g)},action_creator1:function(){return e(v())},action_creator2:function(){return e(y())}}}))(V),Y=n(15),J=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Y.a,{to:"/",style:{padding:"5px"}},"Home"),r.a.createElement(Y.a,{to:"/profile",style:{padding:"5px"}},"Profile"),r.a.createElement(Y.a,{to:"/posts",style:{padding:"5px"}},"Posts"),r.a.createElement(Y.a,{to:"/component1",style:{padding:"5px"}},"Component 1"),r.a.createElement(Y.a,{to:"/container1",style:{padding:"5px"}},"Container 1"),r.a.createElement(Y.a,{to:"/form1",style:{padding:"5px"}},"Form 1"),r.a.createElement(Y.a,{to:"/renderlist",style:{padding:"5px"}},"List"),r.a.createElement(Y.a,{to:"/privateroute",style:{padding:"5px"}},"Private Route"),this.props.is_authenticated?r.a.createElement("button",{onClick:function(){return e.props.auth.logout()}},"Logout"):r.a.createElement("button",{onClick:function(){return e.props.auth.login()}},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(a.Component);var z=Object(_.b)((function(e){return{is_authenticated:e.auth_reducer.is_authenticated}}))(J),W=n(157),q=n(162),Q=n(161),X=n(175),K=n(166),Z=n(164),$=n(165),ee=n(163),te=n(173),ne=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).RenderProfile=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,e.profile.profile.nickname),r.a.createElement("br",null),r.a.createElement("img",{src:e.profile.profile.picture,alt:""}),r.a.createElement("br",null),r.a.createElement("h4",null," ",e.profile.profile.email),r.a.createElement("br",null),r.a.createElement("h5",null," ",e.profile.profile.name," "),r.a.createElement("br",null),r.a.createElement("h6",null," Email Verified: ",e.profile.profile.email_verified?r.a.createElement("p",null,"Yes"):r.a.createElement("p",null,"No")),r.a.createElement("br",null))},n.RenderPosts=function(e){return r.a.createElement(W.a,{style:{width:"500px",height:"200px",marginBottom:"10px",paddingBottom:"80px"}},r.a.createElement(Q.a,{title:r.a.createElement(Y.a,{to:{pathname:"/post"+e.post.id,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",{className:"FlexRow"},e.post.date_created),r.a.createElement("div",{className:"FlexRow"},r.a.createElement(Y.a,{to:{pathname:"/editpost/"+e.post.pid,state:{post:e}}},r.a.createElement("button",null,"Edit")),r.a.createElement("button",{onClick:function(){return n.handleClickOpen(e.post.pid)}},"Delete")))}),r.a.createElement("br",null),r.a.createElement(q.a,null,r.a.createElement("span",{style:{overflow:"hidden"}},e.post.body)))},n.handleClickOpen=function(e){n.setState({open:!0,post_id:e})},n.handleClickClose=function(){n.setState({open:!1,post_id:null})},n.deletePost=function(){var e=n.state.post_id;f.a.delete("api/delete/postcomments",{data:{post_id:e}}).then((function(){return f.a.delete("/api/delete/post",{data:{post_id:e}})})).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)})).then((function(){return n.handleClickClose()})).then((function(){return setTimeout((function(){return N.replaceState("/")}),700)}))},n.state={open:!1,post_id:null},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.db_profile[0].uid;f.a.get("/api/get/userposts",{params:{user_id:t}}).then((function(t){return e.props.set_user_posts(t.data)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(this.RenderProfile,{profile:this.props.profile})),r.a.createElement("div",null,r.a.createElement(Y.a,{to:{pathname:"/showmessages/"+this.props.db_profile[0].uid}},r.a.createElement(te.a,{variant:"contained",color:"primary",type:"submit"},"Show Messages"))),r.a.createElement("div",null,this.props.user_posts?this.props.user_posts.map((function(t){return r.a.createElement(e.RenderPosts,{post:t,key:t.pid})})):""),r.a.createElement(X.a,{open:this.state.open,onClose:this.handleClickClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ee.a,{id:"alert-dialog-title"},"Confirm Delete?"),r.a.createElement(Z.a,null,r.a.createElement($.a,{id:"alert-dialog-description"},"Deleting Post"),r.a.createElement(K.a,null,r.a.createElement(te.a,{onClick:function(){e.deletePost()}},"Agree"),r.a.createElement(te.a,{onClick:function(){return e.handleClickClose()}},"Cancel")))))}}]),t}(a.Component);var ae=Object(_.b)((function(e){return{profile:e.auth_reducer.profile,user_posts:e.posts_reducer.user_posts,db_profile:e.auth_reducer.db_profile}}),(function(e){return{set_user_posts:function(t){return e(D(t))}}}))(ne),re=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.handleChange=function(e){return n.setState({value:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.input_action_creator(e.target.name.value)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null," Input "),r.a.createElement("input",{id:"name",onChange:this.handleChange,type:"text"}),r.a.createElement("button",{type:"submit"}," Submit ")),r.a.createElement("br",null),r.a.createElement("h3",null,"React State:"),r.a.createElement("p",null,this.state.value),r.a.createElement("br",null),r.a.createElement("h3",null,"Redux State:"),r.a.createElement("p",null,this.props.user_text))}}]),t}(a.Component);var oe=Object(_.b)((function(e){return{user_text:e.user_reducer.user_text}}),(function(e){return{input_action_creator:function(t){return e(O(t))}}}))(re),se=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={items:[{id:1,text:"text 1",num:10,bool:!0},{id:2,text:"text 2",num:20,bool:!1},{id:3,text:"text 3",num:30,bool:!0}]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.items.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Y.a,{to:{pathname:"/listitem/"+e.id,state:{list_item:e}},style:{marginTop:"25px",padding:"5px"}},"List Item ",e.id),r.a.createElement("br",null),r.a.createElement("br",null))})))}}]),t}(a.Component);var le=Object(_.b)((function(e){return{}}))(se),ce=function(e){return r.a.createElement("div",null,"Component 1",console.log(e))},ie=function(e){return r.a.createElement("div",null,"Callback")},ue=function(e){return r.a.createElement("div",null,"Private Component")},pe=function(e){return r.a.createElement("div",null,"UnauthRedirect")},me=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"))},de=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.location.state.list_item.text),r.a.createElement("h4",null," ",e.location.state.list_item.num," "),r.a.createElement("div",null,e.location.state.list_item.bool?r.a.createElement("p",null,"Boolean is True"):r.a.createElement("p",null,"Boolean is False")))},he=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Signup and create an account"),r.a.createElement(te.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return e.auth.login()}},"Signup"))},fe=n(172),_e=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.db_profile[0].uid,a=n.props.db_profile[0].username,r={title:e.target.title.value,body:e.target.body.value,username:a,uid:t};f.a.post("/api/post/posttodb",r).then((function(e){return console.log(e)})).then(setTimeout((function(){return N.replace("/",700)}))).catch((function(e){return console.error(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(fe.a,{id:"body",label:"Body",multiline:!0,rows:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return N.replace("/posts")}},"Cancel"))}}]),t}(a.Component);var Ee=Object(_.b)((function(e){return{db_profile:e.auth_reducer.db_profile}}))(_e),be=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleTitleChange=function(e){n.setState({title:e.target.value})},n.handleBodyChange=function(e){n.setState({body:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.db_profile[0].uid,a=n.props.db_profile[0].username,r=n.props.location.state.post.post.pid,o={title:e.target.title.value,body:e.target.body.value,pid:r,uid:t,username:a};f.a.put("/apit/put/post",o).then((function(e){return console.log(e)})).then(setTimeout((function(){return N.replace("/profile")}),700)).catch((function(e){return console.error(e)}))},n.state={title:"",body:""},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({title:this.props.location.state.post.post.title,body:this.props.location.post.post.body})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"title",label:"Title",margin:"normal",value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement(fe.a,{id:"body",label:"Bitle",margin:"normal",multiline:!0,row:"4",value:this.state.body,onChange:this.handleBodyChange}),r.a.createElement(te.a,{type:"submit"},"Submit")),r.a.createElement(te.a,{onClick:function(){return N.goBack()}},"Cancel"))}}]),t}(a.Component);var ge=Object(_.b)((function(e){return{}}),(function(e){return{}}))(be),ve=n(29),ye=n(83),Oe=n.n(ye),Se=n(52),Ce=n.n(Se),je=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleTransition=function(){setTimeout((function(){return n.setState({opacity:1})}),400)},n.addPostsToState=function(e){n.setState({posts:Object(ve.a)(e)}),n.setState({num_posts:n.state.posts.length,page_range:n.state.num_posts/5}),n.slice_posts(),n.animate_posts()},n.slice_posts=function(){var e=n.state.activePage*n.state.posts_per_page,t=e-n.state.posts_per_page;n.setState({posts_slice:n.state.posts.slice(t,e)})},n.animate_posts=function(){n.setState({posts_motion:[]});var e=1;return n.state.posts_slice.map((function(t){return setTimeout((function(){return n.setState({posts_motion:[].concat(Object(ve.a)(n.state.posts_motion),[t])})}),400*e),e++}))},n.handlePageChange=function(e){n.setState({activePage:e}),setTimeout((function(){return n.slice_posts()}),50),setTimeout((function(){return n.animate_posts()}),100)},n.addSearchPostsToState=function(e){n.setState({posts_search:[]}),n.setState({posts_search:Object(ve.a)(e)}),n.animateSearchPosts()},n.animateSearchPosts=function(){n.setState({posts_search_motion:[]});var e=1;return n.state.posts_search.map((function(t){return setTimeout((function(){return n.setState({posts_search_motion:[].concat(Object(ve.a)(n.state.posts_search_motion),[t])})}),400*e),e++}))},n.handleSearch=function(e){var t=e.target.value;f.a.get("/api/get/searchpost",{params:{search_query:t}}).then((function(e){return n.props.fetch_search_posts(e.data)})).then((function(){return n.addSearchPostsToState(n.props.search_posts)})).catch((function(e){return console.error(e)}))},n.RenderPost=function(e){return r.a.createElement("div",{className:"CardStyles"},r.a.createElement(W.a,{style:{width:"500px",height:"200px",marginBottom:"10px",paddingBottom:"80px"}},r.a.createElement(Q.a,{title:r.a.createElement(Y.a,{to:{pathname:"/post/"+e.post.pid,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",{className:"FlexRow"},Ce()(e.post.date_created).format("MMMM Do, YYYY | h:mm a"),r.a.createElement("br",null),r.a.createElement(Y.a,{style:{paddingLeft:"5px",textDecoration:"none"},to:{pathname:"/user/"+e.post.author,state:{post:e}}},"By: ",e.post.author)),r.a.createElement("div",{className:"FlexRow"},r.a.createElement("i",{className:"material-icons"},"thumb_up"),r.a.createElement("div",{className:"notification-num-posts"},e.post.likes)))}),r.a.createElement("br",null),r.a.createElement(q.a,null,r.a.createElement("span",{style:{overflow:"hidden"}},e.post.body))))},n.state={posts:[],opacity:0,num_posts:0,page_range:0,activePage:1,posts_per_page:5,posts_slice:[],posts_motion:[],posts_search:[],posts_search_motion:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleTransition(),f.a.get("/api/get/allposts").then((function(t){return e.props.set_db_posts(t.data)})).then((function(){return e.addPostsToState(e.props.posts)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{opacity:this.state.opacity,transition:"opacity 2s ease"}},r.a.createElement("br",null),this.props.is_authenticated?r.a.createElement(Y.a,{to:"/addpost"},r.a.createElement(te.a,{variant:"contained",color:"primary"},"Add Post")):r.a.createElement(Y.a,{to:"/signup"},r.a.createElement(te.a,{variant:"contained",color:"primary"},"Signup to add post"))),r.a.createElement("div",null,r.a.createElement(fe.a,{id:"search",label:"search",margin:"normal",onChange:this.handleSearch})),r.a.createElement("div",null,this.state.posts_search?this.state.posts_search_motion.map((function(t){return r.a.createElement(e.RenderPost,{key:t.pid,post:t})})):""),r.a.createElement("div",{style:{opacity:this.state.opacity,transition:"opacity 2s ease"}},r.a.createElement("h1",null,"Posts"),r.a.createElement("div",null,this.state.posts_motion?this.state.posts_motion.map((function(t){return r.a.createElement(e.RenderPost,{id:t.pid,key:t.pid,post:t})})):""),r.a.createElement(Oe.a,{activePage:this.state.activePage,itemsCountPerPage:5,totalItemsCount:this.state.num_posts,pageRangeDisplayed:this.state.page_range,onChange:this.handlePageChange})))}}]),t}(a.Component);var ke=Object(_.b)((function(e){return{posts:e.posts_reducer.posts,is_authenticated:e.auth_reducer.is_authenticated,search_posts:e.posts_reducer.search_posts}}),(function(e){return{set_db_posts:function(t){return e(P(t))},fetch_search_posts:function(t){return e(w(t))},remove_search_posts:function(){return e(M())}}}))(je),Te=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).RenderComment=function(e){return r.a.createElement("div",{className:n.state.delete_comment_id===e.comment.cid?"FadeOutComment":"CommentStyles"},r.a.createElement("h3",null,e.comment.comment),r.a.createElement("small",null,"Just Now"===e.comment.date_created?r.a.createElement("span",null,"Edited"):r.a.createElement("span",null,"Just Now")),r.a.createElement("p",null,"By: ",e.comment.author),e.cur_user_id===e.comment.user_id?r.a.createElement(te.a,{onClick:function(){return n.handleClickOpen(e.comment.id,e.comment.comment)}},"Edit"):"")},n.handleTransition=function(){setTimeout((function(){return n.setState({opacity:1})}),400)},n.addCommentsToState=function(e){n.setState({comments:Object(ve.a)(e)}),n.animateComments()},n.animateComments=function(){var e=1;return n.state.comments.map((function(t){return setTimeout((function(){return n.setState({comments_motion:[].concat(Object(ve.a)(n.state.comments_motion),[t])})}),400*e),e++}))},n.handleCommentSubmit=function(e){setTimeout((function(){return n.setState({comments_motion:[e].concat(Object(ve.a)(n.state.comments_motion))})}),50)},n.handleCommentUpdate=function(e){var t=n.state.comments_motion.findIndex((function(t){return t.id===e.cid})),a=Object(ve.a)(n.state.comments_motion);a[t]=e,n.setState({comments_motion:a})},n.handleCommentDelete=function(e){n.setState({delete_comment_id:e});var t=n.state.comments_motion.filter((function(t){return t.cid!==e}));setTimeout((function(){return n.setState({comments_motion:t})}),2e3)},n.handleClickOpen=function(e,t){n.setState({open:!0,comment:t,cid:e})},n.handleClickClose=function(){n.setState({open:!1,comment:"",cid:""})},n.handleChange=function(e){n.setState({comment:e.target.value})},n.handleUpdate=function(){var e=n.state.comment,t=n.state.cid,a=n.props.db_profile[0].uid,r=n.props.location.state.post.post.pid,o=n.props.db_profile[0].username,s={comment:e,cid:t,post_id:r,user_id:a,username:o},l={cid:t,comment:e,post_id:r,user_id:a,author:o,date_created:"Just Now",isEdited:!0};f.a.put("/api/put/commenttodb",s).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)})),n.handleCommentUpdate(l)},n.handleDelete=function(){var e=n.state.cid;f.a.delete("/api/delete/commenttodb",{data:{cid:e}}).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)})),n.handleCommentDelete(e)},n.handleSubmit=function(e){e.preventDefault(),n.setState({comment:""});var t=e.target.comment.value,a=n.props.db_profile[0].uid,r=n.props.location.state.post.post.pid,o=n.props.db_profile[0].username,s={comment:t,post_id:r,user_id:a,username:o},l={cid:Math.floor(1e11*Math.random()),comment:t,user_id:a,author:o,date_created:"Just Now"};f.a.post("/api/post/commenttodb",s).catch((function(e){return console.error(e)})),window.scroll({top:0,left:0,behavior:"smooth"}),n.handleCommentSubmit(l)},n.handleLikes=function(){var e=n.props.db_profile[0].uid,t={uid:e,post_id:n.props.location.state.post.post.pid};f.a.put("/api/put/likes",t).then(!n.state.like_user_id.includes(e)&&n.state.like_post?n.setState({likes:n.state.likes+1}):"").then(n.setState({like_post:!1})).catch((function(e){return console.error(e)}))},n.state={open:!1,comment:"",cid:"",opacity:0,comments:[],comments_motion:[],delete_comment_id:0,likes:n.props.location.state.post.post.likes,like_user_id:n.props.location.state.post.post.like_user_id,like_post:!0},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/get/allpostcomments",{params:{post_id:this.props.location.state.post.post.pid}}).then((function(t){return e.props.fetch_post_comments(t.data)})).then((function(){return e.addCommentsToState(e.props.comments)})).catch((function(e){return console.error(e)})),this.handleTransition(),this.setState({likes:this.props.location.state.post.post.likes,like_user_id:this.props.location.state.post.post.like_user_id})}},{key:"render",value:function(){var e=this;return console.log("state",this.state),console.log("props",this.props),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Post"),r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.props.is_authenticated?function(){return e.handleLikes()}:function(){return N.replace("/signup")}},r.a.createElement("i",{className:"material-icons"},"thumb_up"),r.a.createElement("small",{className:"notification-num-showpost"},this.state.likes))),r.a.createElement("div",{style:{opacity:this.state.opacity,transition:"ease-out 2s"}},r.a.createElement("h2",null,"Comments:"),this.state.comments?this.state.comments_motion.map((function(t){return r.a.createElement(e.RenderComment,{key:t.cid,comment:t,cur_user_id:e.props.db_profile[0].uid})})):""),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"comment",label:"Comment",margin:"normal",value:this.state.comment,onChange:this.handleChange}),r.a.createElement("br",null),this.props.is_authenticated?r.a.createElement(te.a,{type:"submit"},"Submit"):r.a.createElement(Y.a,{to:"/signup"},r.a.createElement(te.a,{color:"primary",variant:"contained"},"Signup to comment")))),r.a.createElement("div",null,r.a.createElement(X.a,{open:this.state.open,onClose:this.handleClickClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ee.a,{id:"alert-dialog-title"},"Edit Comment"),r.a.createElement(Z.a,null,r.a.createElement($.a,{id:"alert-dialog-description"},r.a.createElement("input",{type:"text",value:this.state.comment,onChange:this.handleChange})),r.a.createElement(K.a,null,r.a.createElement(te.a,{onClick:function(){e.handleUpdate(),e.setState({open:!1})}},"Agree"),r.a.createElement(te.a,{onClick:function(){return e.handleClickClose()}},"Cancel"),r.a.createElement(te.a,{onClick:function(){return e.handleDelete()}},"Delete"))))))}}]),t}(a.Component);var Re=Object(_.b)((function(e){return{comments:e.posts_reducer.comments,db_profile:e.auth_reducer.db_profile,is_authenticated:e.auth_reducer.is_authenticated}}),(function(e){return{fetch_post_comments:function(t){return e(x(t))}}}))(Te),Pe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).RenderPosts=function(e){return r.a.createElement("div",{className:"CardStyles"},r.a.createElement(W.a,{style:{width:"500px",height:"200px",marginBottom:"10px",paddingBottom:"80px"}},r.a.createElement(Q.a,{title:r.a.createElement(Y.a,{to:{pathname:"/post/"+e.post.pid,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",{className:"FlexRow"},Ce()(e.post.date_created).format("MMMM Do, YYYY | h:mm a"),r.a.createElement("br",null),"By: ",e.post.author),r.a.createElement("div",{className:"FlexRow"},r.a.createElement("i",{className:"material-icons"},"thumb_up"),r.a.createElement("div",{className:"notification-num-posts"},e.post.likes)))}),r.a.createElement("br",null),r.a.createElement(q.a,null,r.a.createElement("span",{style:{overflow:"hidden"}},e.post.body))))},n.RenderProfile=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},r.a.createElement("h1",null,n.props.OtherUserDBProfile.username)),r.a.createElement("div",null,r.a.createElement(Y.a,{to:{pathname:"/sendmessage",state:{props:e}}},r.a.createElement(te.a,{variant:"contained",color:"primary",type:"submit"},"Send Message"))))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.post.post.author;f.a.get("/api/get/otheruserprofilefromdb",{params:{username:t}}).then((function(t){return e.props.set_other_user_db_profile(t.data)})).catch((function(e){return console.error(e)})),f.a.get("/api/get/otheruserposts",{params:{username:t}}).then((function(t){return e.props.set_other_user_db_posts(Array.from(t.data))})).catch((function(e){return console.error(e)})),window.scroll({top:0,left:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},this.props.OtherUserDBProfile?r.a.createElement(this.RenderProfile,{profile:this.props.OtherUserDBProfile[0]}):""),r.a.createElement("div",null,r.a.createElement("h3",null,"Latest Activity:"),r.a.createElement("div",null,this.props.db_other_user_posts?this.props.db_other_user_posts.map((function(t){return r.a.createElement("div",{key:t.pid},r.a.createElement(e.RenderPosts,{post:t}),r.a.createElement("br",null))})):"")))}}]),t}(a.Component);var xe=Object(_.b)((function(e){return{OtherUserDBProfile:e.user_reducer.OtherUserDBProfile,db_other_user_posts:e.user_reducer.db_other_user_posts}}),(function(e){return{set_other_user_db_profile:function(t){return e(A(t))},set_other_user_db_posts:function(t){return e(U(t))}}}))(Pe),De=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={message_sender:n.props.db_profile[0].username,message_recipient:n.props.location.state.props.profile.username,message_title:e.target.title.value,message_body:e.target.body.value};f.a.post("/api/post/messagetodb",t).then((function(e){return console.log("SendMessage.js",e)})).then(setTimeout((function(){return N.replace("/")}),500)).catch((function(e){return console.error(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(fe.a,{id:"body",multiline:!0,rows:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(te.a,{type:"submit",variant:"contained",color:"primary"},"Submit"),r.a.createElement(te.a,{onClick:function(){return N.replace("/")}},"Cancel")))}}]),t}(a.Component);var we=Object(_.b)((function(e){return{db_profile:e.auth_reducer.db_profile}}),(function(e){return{}}))(De),Me=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={message_sender:n.props.db_profile[0].username,message_recipient:n.props.location.state.props.message.message_sender,message_title:e.target.title.value,message_body:e.target.body.value};console.log("replymessage data",t),f.a.post("/api/post/messagetodb",t).then((function(e){return console.log("Message was replied successfully.")})).then(setTimeout((function(){return N.replace("/")}),500)).catch((function(e){return console.error(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Message:"),r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",null,r.a.createElement("p",null,"Title: ",this.props.location.state.props.message.message_title)),r.a.createElement("div",null,r.a.createElement("p",null,"Body: ",this.props.location.state.props.message.message_body)),r.a.createElement("div",null,r.a.createElement("p",null,"Sender: ",this.props.location.state.props.message.message_sender))),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(fe.a,{id:"body",multiline:!0,rows:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(te.a,{type:"submit",variant:"contained",color:"primary"},"Submit"),r.a.createElement(te.a,{onClick:function(){return N.replace("/")}},"Cancel"))))}}]),t}(a.Component);var Ae=Object(_.b)((function(e){return{db_profile:e.auth_reducer.db_profile}}),(function(e){return{}}))(Me),Ue=n(169),Fe=n(171),Ie=n(168),Be=n(170),Ne=n(167),Le=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).RenderMessages=function(e){return r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,null,r.a.createElement("p",null,"From: ",e.message.message_sender),r.a.createElement("p",null,"Title: ",e.message.message_title),r.a.createElement("p",null,"Message: ",e.message.message_body),r.a.createElement("small",null,e.message.date_created),r.a.createElement(Y.a,{to:{pathname:"/replymessage",state:{props:e}}},r.a.createElement("button",null,"Reply")),r.a.createElement("button",{onClick:function(){return n.DeleteMessage(e.message.mid)}},"Delete"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return N.goBack()}},"Cancel")))},n.DeleteMessage=function(e){f.a.delete("/api/delete/usermessage",{data:{mid:e}}).then((function(t){return console.log("Message ".concat(e," delete successfully."))})).then((function(){return setTimeout((function(){return N.replace("/")}),500)})).catch((function(e){return console.error(e)}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.db_profile[0].username;f.a.get("/api/get/usermessages",{params:{username:t}}).then((function(t){return e.props.set_user_messages(t.data)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},r.a.createElement(Ue.a,null,r.a.createElement(Be.a,null,r.a.createElement(Ne.a,null,r.a.createElement(Ie.a,null,"Messages"))),r.a.createElement(Fe.a,null,this.props.user_messages?this.props.user_messages.map((function(t){return r.a.createElement(e.RenderMessages,{message:t,key:t.mid})})):""))))}}]),t}(a.Component);var He=Object(_.b)((function(e){return{db_profile:e.auth_reducer.db_profile,user_messages:e.user_reducer.user_messages}}),(function(e){return{set_user_messages:function(t){return e(F(t))}}}))(Le),Ve=new function e(){var t=this;Object(i.a)(this,e),this.auth0=new I.a.WebAuth({domain:"timh1203.auth0.com",clientID:"QGce2RCyo8epuX1i7sSips9EipGt79lD",redirectUri:"http://13.58.58.171/callback",responseType:"token id_token",scope:"openid profile email"}),this.userProfile={},this.login=function(){t.auth0.authorize()},this.handleAuth=function(){t.auth0.parseHash((function(e,n){if(n){localStorage.setItem("access_token",n.accessToken),localStorage.setItem("id_token",n.idToken);var a=JSON.stringify(1e3*n.expiresIn+(new Date).getTime());localStorage.setItem("expiresAt",a),t.getProfile(),setTimeout((function(){N.replace("/authcheck")}),2e3)}else console.log(e)}))},this.getAccessToken=function(){return localStorage.getItem("access_token")?localStorage.getItem("access_token"):null},this.getProfile=function(){var e=t.getAccessToken();e&&t.auth0.client.userInfo(e,(function(e,n){n&&(t.userProfile={profile:n})}))},this.logout=function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expiresAt"),setTimeout((function(){N.replace("/authcheck")}),200)},this.isAuthenticated=function(){var e=JSON.parse(localStorage.getItem("expiresAt"));return(new Date).getTime()<e}},Ge=function(e){var t=e.component,n=e.auth;return r.a.createElement(E.b,{render:function(e){return!0===n.isAuthenticated()?r.a.createElement(t,Object.assign({auth:n},e)):r.a.createElement(E.a,{to:{pathname:"/signup"}})}})},Ye=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;Ve.isAuthenticated()?(this.props.login_success(),Ve.getProfile(),setTimeout((function(){e.props.add_profile(Ve.userProfile)}),400)):(this.props.login_failure(),this.props.remove_profile())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.c,{history:N},r.a.createElement("div",null,r.a.createElement(z,{auth:Ve}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:me}),r.a.createElement(E.b,{exact:!0,path:"/form1",component:oe}),r.a.createElement(E.b,{exact:!0,path:"/container1",render:function(){return r.a.createElement(G,{auth:Ve})}}),r.a.createElement(E.b,{path:"/authcheck",render:function(){return r.a.createElement(H,{auth:Ve})}}),r.a.createElement(E.b,{path:"/redirect",component:pe}),r.a.createElement(E.b,{path:"/renderlist",component:le}),r.a.createElement(E.b,{path:"/signup",render:function(){return r.a.createElement(he,{auth:Ve})}}),r.a.createElement(E.b,{path:"/user/:uid",component:xe}),r.a.createElement(Ge,{path:"/sendmessage",auth:Ve,component:we}),r.a.createElement(Ge,{path:"/replymessage",auth:Ve,component:Ae}),r.a.createElement(Ge,{path:"/showmessages/:id",auth:Ve,component:He}),r.a.createElement(E.b,{path:"/addpost",component:Ee}),r.a.createElement(E.b,{path:"/editpost/:pid",component:ge}),r.a.createElement(E.b,{path:"/posts",component:ke}),r.a.createElement(E.b,{path:"/post/:pid",component:Re}),r.a.createElement(E.b,{path:"/callback",render:function(e){return function(e){e.location.hash&&Ve.handleAuth()}(e),r.a.createElement(ie,null)}}),r.a.createElement(E.b,{path:"/component1",render:function(e){return r.a.createElement(ce,e)}}),r.a.createElement(E.b,{path:"/listitem/:id",component:de}),r.a.createElement(Ge,{path:"/privateroute",auth:Ve,component:ue}),r.a.createElement(Ge,{path:"/profile",auth:Ve,component:ae})))))}}]),t}(a.Component);var Je=Object(_.b)(null,(function(e){return{login_success:function(){return e(S())},login_failure:function(){return e(C())},add_profile:function(t){return e(j(t))},remove_profile:function(){return e(k())}}}))(Ye),ze=(n(125),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={hello:null},n.asyncFetch=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(e){return console.log("From fetch:",e)})).catch((function(e){return console.error(e)})));case 2:case"end":return e.stop()}}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/hello").then((function(t){return e.setState({hello:t.data})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Je,null),this.state.hello?r.a.createElement("div",null,this.state.hello):"")}}]),t}(a.Component)),We=n(16),qe={stateprop1:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return Object(We.a)({},e,{stateprop1:!0});case"FAILURE":return Object(We.a)({},e,{stateprop1:!1});default:return e}},Xe={is_authenticated:!1,profile:null,db_profile:null},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(We.a)({},e,{is_authenticated:!0});case"LOGIN_FAILURE":return Object(We.a)({},e,{is_authenticated:!1});case"ADD_PROFILE":return Object(We.a)({},e,{profile:t.payload});case"REMOVE_PROFILE":return Object(We.a)({},e,{profile:null});case"SET_DB_PROFILE":return Object(We.a)({},e,{db_profile:t.payload});case"REMOVE_DB_PROFILE":return Object(We.a)({},e,{db_profile:null});default:return e}},Ze={posts:[],comments:[],user_posts:[],search_posts:[]},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DB_POSTS":return Object(We.a)({},e,{posts:t.payload});case"REMOVE_DB_POSTS":return Object(We.a)({},e,{posts:[]});case"FETCH_POST_COMMENTS":return Object(We.a)({},e,{comments:t.payload});case"REMOVE_POST_COMMENTS":return Object(We.a)({},e,{comments:[]});case"FETCH_USER_POSTS":return Object(We.a)({},e,{user_posts:t.payload});case"REMOVE_USER_POSTS":return Object(We.a)({},e,{user_posts:[]});case"SEARCH_POSTS_SUCCESS":return Object(We.a)({},e,{search_posts:t.payload});case"SEARCH_POSTS_FAILURE":return Object(We.a)({},e,{search_posts:[]});default:return e}},et={user_text:"",OtherUserDBProfile:null,db_other_user_posts:[],user_messages:[]},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INPUT":return Object(We.a)({},e,{user_text:t.payload});case"SET_OTHER_USER_DB_PROFILE":return Object(We.a)({},e,{OtherUserDBProfile:t.payload});case"REMOVE_OTHER_USER_DB_PROFILE":return Object(We.a)({},e,{OtherUserDBProfile:null});case"SET_OTHER_USER_DB_POSTS":return Object(We.a)({},e,{db_other_user_posts:t.payload});case"REMOVE_OTHER_USER_DB_POSTS":return Object(We.a)({},e,{db_other_user_posts:[]});case"SET_USER_MESSAGES":return Object(We.a)({},e,{user_messages:t.payload});case"REMOVE_USER_MESSAGES":return Object(We.a)({},e,{user_messages:[]});default:return e}},nt=n(32),at=Object(nt.combineReducers)({reducer1:Qe,auth_reducer:Ke,posts_reducer:$e,user_reducer:tt}),rt=n(84),ot=Object(nt.createStore)(at,Object(rt.composeWithDevTools)(Object(nt.applyMiddleware)()));s.a.render(r.a.createElement(_.a,{store:ot},r.a.createElement(ze,null)),document.getElementById("root"))},95:function(e,t,n){e.exports=n(126)}},[[95,1,2]]]);
//# sourceMappingURL=main.e729a464.chunk.js.map